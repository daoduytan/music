{"version":3,"sources":["pages/search-music/search-music.tsx"],"names":["SearchMusic","useAudio","audios","addAudio","useMutation","SEARCH_MUSIC","musicSearch","loading","onChangeText","debounce","text","variables","then","res","data","className","onChange","e","target","value","length","map","music","index"],"mappings":"oKAwDeA,UAxCgB,WAAO,IAAD,EACNC,cAArBC,EAD2B,EAC3BA,OAAQC,EADmB,EACnBA,SADmB,EAEAC,sBAAYC,KAFZ,mBAE5BC,EAF4B,KAEbC,EAFa,KAEbA,QAEhBC,EAAeC,oBAAS,SAACC,GAC7BJ,EAAY,CACVK,UAAW,CACTD,UAEDE,MAAK,SAACC,GACPV,EAASU,EAAIC,KAAKR,kBAEnB,KAgBH,OACE,sBAAKS,UAAU,iBAAf,UACE,uBACEA,UAAU,uDACVC,SAAU,SAACC,GAAD,OAAYT,EAAaS,EAAEC,OAAOC,UAG9C,8BApBEZ,EACK,0CAGa,IAAlBL,EAAOkB,OACF,0CAGFlB,EAAOmB,KAAI,SAACC,EAAeC,GAChC,OAAO,cAAC,IAAD,CAAkBD,MAAOA,GAAdC","file":"static/js/4.76da1a0a.chunk.js","sourcesContent":["import { useMutation } from \"@apollo/client\";\nimport { debounce } from \"lodash\";\nimport { FC } from \"react\";\nimport { Song } from \"../../components\";\nimport { useAudio } from \"../../context\";\nimport { SEARCH_MUSIC } from \"../../query\";\n\ninterface IMusic {\n  author: string;\n  title: string;\n  avatar: string;\n  link: string;\n}\n\ninterface Props {}\n\nconst SearchMusic: FC<Props> = () => {\n  const { audios, addAudio } = useAudio();\n  const [musicSearch, { loading }] = useMutation(SEARCH_MUSIC);\n\n  const onChangeText = debounce((text: string) => {\n    musicSearch({\n      variables: {\n        text,\n      },\n    }).then((res) => {\n      addAudio(res.data.musicSearch);\n    });\n  }, 500);\n\n  const renderContent = () => {\n    if (loading) {\n      return <div>Loading</div>;\n    }\n\n    if (audios.length === 0) {\n      return <div>No data</div>;\n    }\n\n    return audios.map((music: IMusic, index: number) => {\n      return <Song key={index} music={music} />;\n    });\n  };\n\n  return (\n    <div className=\"w-9/12 mx-auto\">\n      <input\n        className=\"border my-6 rounded p-2 block w-full border-gray-200\"\n        onChange={(e: any) => onChangeText(e.target.value)}\n      />\n\n      <div>{renderContent()}</div>\n    </div>\n  );\n};\n\nexport default SearchMusic;\n"],"sourceRoot":""}